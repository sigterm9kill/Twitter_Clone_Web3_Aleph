"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = assert;
exports.assertReturn = assertReturn;

var _function = _interopRequireDefault(require("./is/function"));

var _undefined = _interopRequireDefault(require("./is/undefined"));

// Copyright 2017-2020 @polkadot/util authors & contributors
// SPDX-License-Identifier: Apache-2.0

/**
 * @name assert
 * @summary Checks for a valid test, if not Error is thrown.
 * @description
 * Checks that `test` is a truthy value. If value is falsy (`null`, `undefined`, `false`, ...), it throws an Error with the supplied `message`. When `test` passes, `true` is returned.
 * @example
 * <BR>
 *
 * ```javascript
 * const { assert } from '@polkadot/util';
 *
 * assert(true, 'True should be true'); // passes
 * assert(false, 'False should not be true'); // Error thrown
 * assert(false, () => 'message'); // Error with 'message'
 * ```
 */
function assert(condition, message) {
  if (!condition) {
    throw new Error((0, _function.default)(message) ? message() : message);
  }
}
/**
 * @name assertReturn
 * @summart Returns when the value is not undefined, otherwise throws assertion error
 */


function assertReturn(value, message) {
  assert(!(0, _undefined.default)(value), message);
  return value;
}